<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Cr√©ations</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>Mes Cr√©ations üé®</header>

  <img src="chat.png" class="chat" alt="Chat">
  <img src="pelote.png" class="pelote" alt="Pelote">

  <div class="btn-container">
    <input id="title" type="text" placeholder="Titre (facultatif)">
    <textarea id="description" rows="3" placeholder="Description..."></textarea>
    
    <input type="file" id="imageUpload" accept="image/*" />
    <div class="file-preview" id="preview"></div>

    <button class="btn-link" onclick="saveCreation()">Enregistrer</button>
  </div>

  <script>
    const preview = document.getElementById("preview");
    const fileInput = document.getElementById("imageUpload");

    fileInput.addEventListener("change", () => {
      const file = fileInput.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = () => {
          preview.innerHTML = `<img src="${reader.result}"/>`;
        };
        reader.readAsDataURL(file);
      }
    });

    function saveCreation() {
      const title = document.getElementById("title").value;
      const description = document.getElementById("description").value;
      const img = fileInput.files[0];

      const data = { title, description };

      if (img) {
        const reader = new FileReader();
        reader.onload = () => {
          data.image = reader.result;
          localStorage.setItem("creation", JSON.stringify(data));
          alert("Cr√©ation enregistr√©e !");
        };
        reader.readAsDataURL(img);
      } else {
        localStorage.setItem("creation", JSON.stringify(data));
        alert("Cr√©ation enregistr√©e !");
      }
    }
  </script>
</body>
</html>
