<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Traduction Crochet Anglais → Français</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      max-width: 800px;
      margin: 2rem auto;
      padding: 1rem;
      background: url('https://i.imgur.com/vbQzZyM.jpg') center/cover no-repeat fixed;
      background-color: #fdf6f0;
      color: #333;
      border-radius: 12px;
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
    }

    h1 {
      text-align: center;
      color: #d94f91;
      text-shadow: 1px 1px 1px white;
    }

    textarea {
      width: 100%;
      height: 150px;
      font-size: 1.1rem;
      padding: 0.75rem;
      border: 1px solid #ccc;
      border-radius: 10px;
      margin-bottom: 1rem;
      background: #fff;
      box-shadow: inset 0 1px 4px rgba(0,0,0,0.1);
    }

    button {
      display: block;
      margin: 0 auto 1rem auto;
      background: #e8499c;
      color: white;
      border: none;
      padding: 0.8rem 1.6rem;
      border-radius: 10px;
      font-size: 1.2rem;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    button:hover {
      background: #d13889;
    }

    h2 {
      color: #d94f91;
      margin-top: 1.5rem;
    }

    pre {
      background: #fff;
      border: 1px solid #ddd;
      padding: 1rem;
      border-radius: 10px;
      white-space: pre-wrap;
      word-wrap: break-word;
      min-height: 120px;
    }

    footer {
      text-align: center;
      margin-top: 2rem;
      font-size: 0.9rem;
      color: #666;
    }
  </style>
</head>
<body>

  <h1>Traduction Crochet Anglais → Français</h1>

  <textarea id="inputText" placeholder="Colle ici tes instructions crochet en anglais..."></textarea>
  <button onclick="translateText()">Traduire</button>

  <h2>Traduction :</h2>
  <pre id="outputText"></pre>

  <script>
    const dictionary = {
      "sc": "maille serrée",
      "hdc": "demi-bride",
      "dc": "bride",
      "tr": "double bride",
      "dtr": "triple bride",
      "ch": "maille en l’air",
      "sl st": "maille coulée",
      "st": "maille",
      "inc": "augmentation",
      "dec": "diminution",
      "yo": "jeté",
      "hook": "crochet",
      "join": "joindre",
      "fasten off": "arrêter",
      "foundation chain": "chaînette de base",
      "row": "rang",
      "round": "tour",
      "skip": "sauter",
      "beginning": "début",
      "next": "suivante",
      "repeat": "répéter",
      "with yarn": "avec le fil",
      "times": "fois",
      "from hook": "depuis le crochet",
      "in last ch": "dans la dernière maille en l’air",
      "last ch": "dernière maille en l’air",
      "first ch": "première maille en l’air",
      "chain 5": "chaînette de 5 mailles",
      "start": "début",
      "maille en l’air 1": "1 maille en l’air",
      "augmentation in 2nd chain": "augmentation dans la 2ème maille en l’air",
      "from crochet": "depuis le crochet",
      "maille serrée 2": "2 mailles serrées",
      "5 maille serrée in the last chain": "5 mailles serrées dans la dernière maille",
      "continue on the other side of the chain": "continuer de l'autre côté de la chaînette",
      "base": "base",
      "3 maille serrée in the last chain": "3 mailles serrées dans la dernière maille",
      "[14]": "[14 mailles au total]",
      "other side of the chain": "l'autre côté de la chaînette",
      "other side": "l'autre côté",
      "chain": "chaînette",
      "the chain": "la chaînette",
      "turn": "tourner",
      "turn chain": "maille en l’air de montée",
      "turning chain": "maille en l’air de montée",
      "skip next st": "sauter la maille suivante",
      "next st": "maille suivante",
      "in next st": "dans la maille suivante",
      "repeat from * to *": "répéter de * à *",
      "repeat until end": "répéter jusqu’à la fin",
      "work": "travailler",
      "work into": "travailler dans",
      "work around": "travailler autour",
      "work back": "revenir sur",
      "work across": "travailler tout le long",
      "turn work": "tourner le travail",
      "insert hook": "insérer le crochet",
      "pull up a loop": "faire un jeté pour attraper une boucle",
      "yarn over": "faire un jeté",
      "yarn over hook": "faire un jeté sur le crochet",
      "chain space": "espace de mailles en l’air",
      "space": "espace",
      "skip stitch": "sauter une maille",
      "around post": "autour de la maille",
      "front post": "maille devant la barre",
      "back post": "maille derrière la barre",
      "double crochet decrease": "diminution en bride",
      "single crochet decrease": "diminution en maille serrée",
      "half double crochet decrease": "diminution en demi-bride",
      "increase in next stitch": "augmentation dans la maille suivante",
      "increase in next ch": "augmentation dans la maille en l’air suivante",
      "between stitches": "entre les mailles",
      "stitch marker": "marqueur de maille",
      "repeat round": "répéter le tour",
      "repeat row": "répéter le rang",
      "fasten off yarn": "arrêter le fil",
      "slip stitch join": "maille coulée pour joindre",
      "chain loop": "boucle de chaînette",
      "loop": "boucle",
      "loop on hook": "boucle sur le crochet",
      "pull through": "passer à travers",
      "pull through loops": "passer à travers les boucles",
      "yo twice": "faire deux jetés",
      "skip next 2 sts": "sauter les 2 mailles suivantes",
      "stitch": "maille",
      "next stitch": "maille suivante",
      "last stitch": "dernière maille",
      "first stitch": "première maille",
      "along": "le long de",
      "edge": "bord",
      "corner": "coin",
      "chain 3": "chaînette de 3 mailles",
      "make": "faire",
      "make 2": "faire 2 fois",
      "together": "ensemble",
      "pull tight": "tirer serré",
      "tighten": "serrer",
      "loose": "lâche",
      "loosen": "desserrer",

      // ✅ Ajouts récents demandés
      "chain 5 début: in 2nd chain": "chaînette de 5 mailles, début : dans la 2ème maille",
      "in the last chain.": "dans la dernière maille",
      "base, in the last chain [14]": "base, dans la dernière maille [14 mailles au total]"
    };

    function translateText() {
      let text = document.getElementById('inputText').value.toLowerCase();
      const sortedKeys = Object.keys(dictionary).sort((a, b) => b.length - a.length);
      for (const key of sortedKeys) {
        const regex = new RegExp(`\\b${escapeRegExp(key)}\\b`, 'gi');
        text = text.replace(regex, dictionary[key]);
      }
      text = text.replace(/(^\s*\w|[.!?]\s*\w)/g, c => c.toUpperCase());
      document.getElementById('outputText').textContent = text;
    }

    function escapeRegExp(string) {
      return string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
    }
  </script>

  <footer>&copy; 2025 Traduction Crochet</footer>
</body>
</html>
