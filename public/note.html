<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Notes</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>Mes Notes ðŸ“’</header>

  <img src="chat.png" class="chat" alt="Chat">
  <img src="pelote.png" class="pelote" alt="Pelote">

  <div class="btn-container">
    <input id="noteTitle" type="text" placeholder="Titre de la note (facultatif)">
    <textarea id="noteContent" rows="4" placeholder="Ã‰cris ta note ici..."></textarea>

    <input type="file" id="noteImage" accept="image/*" />
    <div class="file-preview" id="notePreview"></div>

    <button class="btn-link" onclick="saveNote()">Enregistrer</button>
  </div>

  <script>
    const noteFileInput = document.getElementById("noteImage");
    const notePreview = document.getElementById("notePreview");

    noteFileInput.addEventListener("change", () => {
      const file = noteFileInput.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = () => {
          notePreview.innerHTML = `<img src="${reader.result}"/>`;
        };
        reader.readAsDataURL(file);
      }
    });

    function saveNote() {
      const title = document.getElementById("noteTitle").value;
      const content = document.getElementById("noteContent").value;
      const img = noteFileInput.files[0];

      const data = { title, content };

      if (img) {
        const reader = new FileReader();
        reader.onload = () => {
          data.image = reader.result;
          localStorage.setItem("note", JSON.stringify(data));
          alert("Note enregistrÃ©e !");
        };
        reader.readAsDataURL(img);
      } else {
        localStorage.setItem("note", JSON.stringify(data));
        alert("Note enregistrÃ©e !");
      }
    }
  </script>
</body>
</html>
